# Black and White Image Filter Application

> [!IMPORTANT]
> This application is a continuation of [mod10-pon3](https://github.com/danielquintaos/mod10-pon3). The changes can be seen [here](https://github.com/danielquintaos/mod10-pon4/commit/6b5c2c17af9e9fca71b7be77a619cbd6045266e5).

## Overview

The Black and White Image Filter Application is a Flutter-based mobile application that allows users to sign up, log in, upload images, and view black-and-white filtered versions of their uploaded images. The backend is powered by FastAPI and Node.js, providing APIs for user authentication, image processing, events management, and logging user activities.

## Features

- User Authentication (Sign Up, Sign In)
- Image Upload
- Image Download and View
- Black and White Image Filtering
- Events Management
- Centralized Logging System

## Project Structure

### Backend

The backend is divided into multiple microservices, each with specific responsibilities:

1. **User Service**: Manages user authentication and CRUD operations.
2. **Image Service**: Handles image upload, processing, and download.
3. **Logging Service**: Logs user actions such as sign up, sign in, and image uploads.
4. **Events Service**: Manages events and logs actions.

### Frontend

The frontend is built using Flutter and consists of several pages:

1. **Sign Up Page**
2. **Sign In Page**
3. **Home Page**
4. **Image Upload Page**
5. **Image Download Page**

## Technologies Used

- **Frontend**: Flutter, Provider for state management
- **Backend**: FastAPI, Node.js, Sequelize, SQLite, SQLAlchemy, PostgreSQL, Alembic for migrations
- **Other Tools**: Docker for containerization, GitHub Actions for CI/CD, Winston for logging

## Installation

### Prerequisites

- Flutter SDK
- Docker
- Python 3.8+
- Node.js
- PostgreSQL

### Backend Setup

1. **Clone the repository**

```sh
git clone https://github.com/danielquintaos/mod10-pon4.git
cd mod10-pon4
```

2. **Set up the backend**

```sh
cd backend
docker-compose up --build
```

### Frontend Setup

1. **Navigate to the frontend directory**

```sh
cd frontend
```

2. **Install dependencies**

```sh
flutter pub get
```

3. **Run the application**

```sh
flutter run
```

### Events Service Setup

1. **Navigate to the events service directory**

```sh
cd backend/services/events_service
```

2. **Install dependencies**

```sh
npm install
```

3. **Run the events service**

```sh
node src/app.js
```

## Usage

### Backend

The backend services will be available at the following URLs:
- **User Service**: `http://localhost:8001`
- **Image Service**: `http://localhost:8002`
- **Logging Service**: `http://localhost:8003`
- **Events Service**: `http://localhost:3000`
- **API Gateway**: `http://localhost:8000`

### Frontend

1. **Sign Up**
   - Open the app and navigate to the Sign Up page.
   - Enter your username, email, and password, then click "Sign Up".

2. **Sign In**
   - Navigate to the Sign In page.
   - Enter your username and password, then click "Sign In".

3. **Upload Image**
   - After signing in, navigate to the Upload Image page.
   - Choose an image from your device and upload it.

4. **View Images**
   - Navigate to the View Images page to see the list of your uploaded images along with their black-and-white filtered versions.

5. **Manage Events**
   - Navigate to the Events section (if implemented in the frontend) to create, view, update, and delete events.

## Running Tests

### Backend

To run the backend tests, use the following command:

```sh
cd backend
pytest
```

### Frontend

To run the frontend tests, use the following command:

```sh
cd frontend
flutter test
```

### Events Service

To run the events service tests, you need to create test files and use a testing framework like Jest or Mocha. Example:

```sh
cd backend/services/events_service
npm test
```

## API Documentation

The backend API documentation is automatically generated by FastAPI and available at `http://localhost:8000/docs`.
